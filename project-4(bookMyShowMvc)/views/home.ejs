<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BookMyShow Header</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body>
  <header class="main-header">
    <div class="top-bar">
      <div class="logo">book<span class="highlight">my</span>show</div>
      <input type="text" placeholder="Search for Movies, Events, Plays, Sports and Activities" />
      <div class="location">Rajkot ▼</div>
     <a href="/addMovie"> <button class="sign-in">Add Movies</button></a>
      <!-- <div class="menu-icon">&#9776;</div> -->
    </div>
    <nav class="nav-links">
      <a href="#">Movies</a>
      <a href="#">Stream</a>
      <a href="#">Events</a>
      <a href="#">Plays</a>
      <a href="#">Sports</a>
      <a href="#">Activities</a>
      <a href="#">ListYourShow</a>
      <a href="#">Corporates</a>
      <a href="#">Offers</a>
      <a href="#">Gift Cards</a>
    </nav>
  </header>



  <section class="movie-section">
    <h2>Recommended Movies</h2>
    <div class="movie-grid">

      <!-- Movie Card  -->
     
    

      <div class="grid grid-cols-12 gap-10">
  
        <% data.map((e, i) => { %>
          <div class="col-span-3" style="height: ;">
            <div class="movie-card">
              <img src="<%= e.image %>" alt="" height="100%" width="100%">
              <div class="likes"><span>⭐</span> <%= e.rating %></div>
              <h3 style="color: black;"><%= e.name %></h3>
              <p><%= e.type %></p>
               
              <div class="btns">
               <a href="/editData?id=<%=e.id%>"> <button type="button" id="btn1" class="rounded-lg mb-3">Edit</button></a>
               <a href="/deleteData?id=<%=e.id%>"> <button type="button" id="btn2" class="rounded-lg">Delete</button></a>

              </div>
             
            </div>
          </div>
        <% }) %>
        
      </div>
     
      <!-- Movie Card  -->

    
 

    </div>
  </section>
</body>
<script>
  function deleteMovie(id) {
    if (confirm('Are you sure you want to delete this movie?')) {
      fetch(`/deleteMovie/${id}`, {
        method: 'DELETE'
      })
      .then(res => {
        if (res.ok) {
          window.location.reload(); // Refresh page on successful delete
        } else {
          alert("Failed to delete movie.");
        }
      })
      .catch(err => {
        alert("Error deleting movie.");
        console.error(err);
      });
    }
  }
</script>

</html>
